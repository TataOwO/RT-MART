<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" agent="Claude" version="24.0.0">
  <diagram name="Functional Dependencies" id="fd-diagram">
    <mxGraphModel dx="2500" dy="2000" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1654" pageHeight="2339" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="Functional Dependency Diagram - RT-MART Database" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=20;" parent="1" vertex="1">
          <mxGeometry x="500" y="20" width="500" height="40" as="geometry" />
        </mxCell>

        <!-- ==================== USER ==================== -->
        <mxCell id="user-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="40" y="80" width="400" height="120" as="geometry" />
        </mxCell>
        <mxCell id="user-title" value="USER" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="50" y="85" width="100" height="25" as="geometry" />
        </mxCell>
        <mxCell id="user-pk" value="user_id" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="60" y="120" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="user-attrs" value="password_hash, name, avatar_url, phone_number, role, deleted_at, created_at, updated_at" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="150" y="115" width="280" height="40" as="geometry" />
        </mxCell>
        <mxCell id="user-arrow1" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d79b00;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="130" y="135" as="sourcePoint" />
            <mxPoint x="150" y="135" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="user-uk1" value="login_id" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=4;" parent="1" vertex="1">
          <mxGeometry x="60" y="160" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="user-uk2" value="email" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=4;" parent="1" vertex="1">
          <mxGeometry x="140" y="160" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="user-uk-note" value="→ user_id (candidate keys)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=10;fontStyle=2;" parent="1" vertex="1">
          <mxGeometry x="210" y="165" width="150" height="20" as="geometry" />
        </mxCell>

        <!-- ==================== USER_TOKEN ==================== -->
        <mxCell id="usertoken-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="460" y="80" width="350" height="120" as="geometry" />
        </mxCell>
        <mxCell id="usertoken-title" value="USER_TOKEN" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="470" y="85" width="120" height="25" as="geometry" />
        </mxCell>
        <mxCell id="usertoken-pk" value="token_id" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="480" y="120" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="usertoken-attrs" value="user_id, expires_at, is_revoked, created_at" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="570" y="120" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="usertoken-arrow1" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d79b00;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="550" y="135" as="sourcePoint" />
            <mxPoint x="570" y="135" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="usertoken-uk1" value="token_hash" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=4;" parent="1" vertex="1">
          <mxGeometry x="480" y="160" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="usertoken-uk-note" value="→ token_id" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=10;fontStyle=2;" parent="1" vertex="1">
          <mxGeometry x="570" y="165" width="80" height="20" as="geometry" />
        </mxCell>

        <!-- ==================== SHIPPING_ADDRESS ==================== -->
        <mxCell id="shippingaddr-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="830" y="80" width="380" height="120" as="geometry" />
        </mxCell>
        <mxCell id="shippingaddr-title" value="SHIPPING_ADDRESS" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="840" y="85" width="160" height="25" as="geometry" />
        </mxCell>
        <mxCell id="shippingaddr-pk" value="address_id" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="850" y="120" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="shippingaddr-attrs" value="user_id, recipient_name, phone, city, district, postal_code, address_line1, address_line2, is_default" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="950" y="115" width="250" height="50" as="geometry" />
        </mxCell>
        <mxCell id="shippingaddr-arrow1" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d79b00;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="930" y="135" as="sourcePoint" />
            <mxPoint x="950" y="135" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- ==================== SELLER ==================== -->
        <mxCell id="seller-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="40" y="220" width="400" height="120" as="geometry" />
        </mxCell>
        <mxCell id="seller-title" value="SELLER" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="50" y="225" width="100" height="25" as="geometry" />
        </mxCell>
        <mxCell id="seller-pk" value="seller_id" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="60" y="260" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="seller-attrs" value="bank_account_reference, verified, verified_at, verified_by, rejected_at, created_at, updated_at" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="150" y="255" width="280" height="40" as="geometry" />
        </mxCell>
        <mxCell id="seller-arrow1" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d79b00;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="130" y="275" as="sourcePoint" />
            <mxPoint x="150" y="275" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="seller-uk1" value="user_id" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=4;" parent="1" vertex="1">
          <mxGeometry x="60" y="300" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="seller-uk-note" value="→ seller_id (1:1 with User)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=10;fontStyle=2;" parent="1" vertex="1">
          <mxGeometry x="130" y="305" width="150" height="20" as="geometry" />
        </mxCell>

        <!-- ==================== STORE ==================== -->
        <mxCell id="store-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="460" y="220" width="400" height="120" as="geometry" />
        </mxCell>
        <mxCell id="store-title" value="STORE" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="470" y="225" width="100" height="25" as="geometry" />
        </mxCell>
        <mxCell id="store-pk" value="store_id" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="480" y="260" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="store-attrs" value="seller_id, store_name, store_description, store_address, store_email, store_phone, store_avatar, average_rating, total_ratings, product_count, deleted_at, created_at, updated_at" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="570" y="250" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="store-arrow1" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d79b00;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="550" y="275" as="sourcePoint" />
            <mxPoint x="570" y="275" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- ==================== PRODUCT_TYPE ==================== -->
        <mxCell id="producttype-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="880" y="220" width="330" height="120" as="geometry" />
        </mxCell>
        <mxCell id="producttype-title" value="PRODUCT_TYPE" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="890" y="225" width="130" height="25" as="geometry" />
        </mxCell>
        <mxCell id="producttype-pk" value="product_type_id" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="900" y="260" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="producttype-attrs" value="type_name, parent_type_id, is_active" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="1020" y="260" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="producttype-arrow1" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d79b00;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1000" y="275" as="sourcePoint" />
            <mxPoint x="1020" y="275" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="producttype-uk1" value="type_code" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=4;" parent="1" vertex="1">
          <mxGeometry x="900" y="300" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="producttype-uk-note" value="→ product_type_id" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=10;fontStyle=2;" parent="1" vertex="1">
          <mxGeometry x="990" y="305" width="120" height="20" as="geometry" />
        </mxCell>

        <!-- ==================== PRODUCT ==================== -->
        <mxCell id="product-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="40" y="360" width="450" height="100" as="geometry" />
        </mxCell>
        <mxCell id="product-title" value="PRODUCT" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="50" y="365" width="100" height="25" as="geometry" />
        </mxCell>
        <mxCell id="product-pk" value="product_id" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="60" y="400" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="product-attrs" value="store_id, product_type_id, product_name, description, price, sold_count, average_rating, total_reviews, is_active, deleted_at, created_at, updated_at" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="160" y="395" width="320" height="50" as="geometry" />
        </mxCell>
        <mxCell id="product-arrow1" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d79b00;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="140" y="415" as="sourcePoint" />
            <mxPoint x="160" y="415" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- ==================== PRODUCT_IMAGE ==================== -->
        <mxCell id="productimage-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="510" y="360" width="300" height="100" as="geometry" />
        </mxCell>
        <mxCell id="productimage-title" value="PRODUCT_IMAGE" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="520" y="365" width="140" height="25" as="geometry" />
        </mxCell>
        <mxCell id="productimage-pk" value="image_id" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="530" y="400" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="productimage-attrs" value="product_id, image_url, public_id, display_order" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="620" y="400" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="productimage-arrow1" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d79b00;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="600" y="415" as="sourcePoint" />
            <mxPoint x="620" y="415" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- ==================== INVENTORY ==================== -->
        <mxCell id="inventory-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="830" y="360" width="380" height="100" as="geometry" />
        </mxCell>
        <mxCell id="inventory-title" value="INVENTORY" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="840" y="365" width="100" height="25" as="geometry" />
        </mxCell>
        <mxCell id="inventory-pk" value="inventory_id" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="850" y="400" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="inventory-attrs" value="quantity, reserved, last_updated" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="960" y="395" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="inventory-arrow1" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d79b00;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="940" y="415" as="sourcePoint" />
            <mxPoint x="960" y="415" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="inventory-uk1" value="product_id" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=4;" parent="1" vertex="1">
          <mxGeometry x="850" y="435" width="80" height="25" as="geometry" />
        </mxCell>
        <mxCell id="inventory-uk-note" value="→ inventory_id (1:1)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=10;fontStyle=2;" parent="1" vertex="1">
          <mxGeometry x="940" y="435" width="120" height="20" as="geometry" />
        </mxCell>

        <!-- ==================== CART_ITEM ==================== -->
        <mxCell id="cartitem-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="40" y="480" width="400" height="100" as="geometry" />
        </mxCell>
        <mxCell id="cartitem-title" value="CART_ITEM" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="50" y="485" width="100" height="25" as="geometry" />
        </mxCell>
        <mxCell id="cartitem-pk" value="cart_item_id" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="60" y="515" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cartitem-attrs" value="quantity, selected, added_at, updated_at" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="170" y="515" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cartitem-arrow1" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d79b00;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="150" y="530" as="sourcePoint" />
            <mxPoint x="170" y="530" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cartitem-uk1" value="user_id, product_id" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=4;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="60" y="550" width="120" height="25" as="geometry" />
        </mxCell>
        <mxCell id="cartitem-uk-note" value="→ cart_item_id (composite unique)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=10;fontStyle=2;" parent="1" vertex="1">
          <mxGeometry x="190" y="550" width="180" height="20" as="geometry" />
        </mxCell>

        <!-- ==================== CART_HISTORY ==================== -->
        <mxCell id="carthistory-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="460" y="480" width="350" height="100" as="geometry" />
        </mxCell>
        <mxCell id="carthistory-title" value="CART_HISTORY" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="470" y="485" width="120" height="25" as="geometry" />
        </mxCell>
        <mxCell id="carthistory-pk" value="cart_history_id" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="480" y="520" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="carthistory-attrs" value="user_id, cart_snapshot, item_count, order_ids, created_at" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="600" y="520" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="carthistory-arrow1" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d79b00;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="580" y="535" as="sourcePoint" />
            <mxPoint x="600" y="535" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- ==================== ORDER ==================== -->
        <mxCell id="order-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="40" y="600" width="500" height="130" as="geometry" />
        </mxCell>
        <mxCell id="order-title" value="ORDER" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="50" y="605" width="100" height="25" as="geometry" />
        </mxCell>
        <mxCell id="order-pk" value="order_id" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="60" y="640" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="order-attrs" value="user_id, store_id, order_status, subtotal, shipping_fee, total_discount, total_amount, payment_method, payment_reference, shipping_address_snapshot, notes, created_at, updated_at, paid_at, shipped_at, delivered_at, completed_at, cancelled_at" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="150" y="630" width="380" height="50" as="geometry" />
        </mxCell>
        <mxCell id="order-arrow1" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d79b00;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="130" y="655" as="sourcePoint" />
            <mxPoint x="150" y="655" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="order-uk1" value="order_number" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=4;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="60" y="680" width="100" height="25" as="geometry" />
        </mxCell>
        <mxCell id="order-uk2" value="idempotency_key" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=4;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="170" y="680" width="110" height="25" as="geometry" />
        </mxCell>
        <mxCell id="order-uk-note" value="→ order_id (candidate keys)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=10;fontStyle=2;" parent="1" vertex="1">
          <mxGeometry x="290" y="680" width="160" height="20" as="geometry" />
        </mxCell>

        <!-- ==================== ORDER_ITEM ==================== -->
        <mxCell id="orderitem-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="560" y="600" width="400" height="100" as="geometry" />
        </mxCell>
        <mxCell id="orderitem-title" value="ORDER_ITEM" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="570" y="605" width="110" height="25" as="geometry" />
        </mxCell>
        <mxCell id="orderitem-pk" value="order_item_id" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="580" y="640" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="orderitem-attrs" value="order_id, product_id, product_snapshot, quantity, original_price, item_discount, unit_price, subtotal" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="700" y="635" width="250" height="50" as="geometry" />
        </mxCell>
        <mxCell id="orderitem-arrow1" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d79b00;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="680" y="655" as="sourcePoint" />
            <mxPoint x="700" y="655" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- ==================== DISCOUNT ==================== -->
        <mxCell id="discount-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="40" y="750" width="450" height="130" as="geometry" />
        </mxCell>
        <mxCell id="discount-title" value="DISCOUNT" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="50" y="755" width="100" height="25" as="geometry" />
        </mxCell>
        <mxCell id="discount-pk" value="discount_id" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="60" y="790" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="discount-attrs" value="discount_type, name, description, min_purchase_amount, start_datetime, end_datetime, is_active, usage_limit, usage_count, created_by_type, created_by_id, created_at" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="170" y="780" width="310" height="50" as="geometry" />
        </mxCell>
        <mxCell id="discount-arrow1" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d79b00;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="150" y="805" as="sourcePoint" />
            <mxPoint x="170" y="805" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="discount-uk1" value="discount_code" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=4;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="60" y="830" width="100" height="25" as="geometry" />
        </mxCell>
        <mxCell id="discount-uk-note" value="→ discount_id" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=10;fontStyle=2;" parent="1" vertex="1">
          <mxGeometry x="170" y="830" width="100" height="20" as="geometry" />
        </mxCell>

        <!-- ==================== ORDER_DISCOUNT ==================== -->
        <mxCell id="orderdiscount-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="510" y="750" width="400" height="130" as="geometry" />
        </mxCell>
        <mxCell id="orderdiscount-title" value="ORDER_DISCOUNT" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="520" y="755" width="150" height="25" as="geometry" />
        </mxCell>
        <mxCell id="orderdiscount-pk" value="order_discount_id" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="530" y="790" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="orderdiscount-attrs" value="order_id, discount_id, discount_amount, applied_at" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="660" y="790" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="orderdiscount-arrow1" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d79b00;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="640" y="805" as="sourcePoint" />
            <mxPoint x="660" y="805" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="orderdiscount-uk1" value="order_id, discount_type" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=4;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="530" y="830" width="140" height="25" as="geometry" />
        </mxCell>
        <mxCell id="orderdiscount-uk-note" value="→ order_discount_id (composite unique)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=10;fontStyle=2;" parent="1" vertex="1">
          <mxGeometry x="680" y="830" width="220" height="20" as="geometry" />
        </mxCell>

        <!-- ==================== SEASONAL_DISCOUNT ==================== -->
        <mxCell id="seasonaldiscount-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="40" y="900" width="300" height="100" as="geometry" />
        </mxCell>
        <mxCell id="seasonaldiscount-title" value="SEASONAL_DISCOUNT" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="50" y="905" width="180" height="25" as="geometry" />
        </mxCell>
        <mxCell id="seasonaldiscount-pk" value="seasonal_discount_id" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="60" y="940" width="130" height="25" as="geometry" />
        </mxCell>
        <mxCell id="seasonaldiscount-attrs" value="discount_rate, max_discount_amount" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="200" y="935" width="130" height="35" as="geometry" />
        </mxCell>
        <mxCell id="seasonaldiscount-arrow1" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d79b00;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="190" y="952" as="sourcePoint" />
            <mxPoint x="200" y="952" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="seasonaldiscount-uk1" value="discount_id" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=4;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="60" y="970" width="80" height="25" as="geometry" />
        </mxCell>
        <mxCell id="seasonaldiscount-uk-note" value="→ seasonal_discount_id (1:1)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=10;fontStyle=2;" parent="1" vertex="1">
          <mxGeometry x="150" y="970" width="170" height="20" as="geometry" />
        </mxCell>

        <!-- ==================== SHIPPING_DISCOUNT ==================== -->
        <mxCell id="shippingdiscount-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="360" y="900" width="300" height="100" as="geometry" />
        </mxCell>
        <mxCell id="shippingdiscount-title" value="SHIPPING_DISCOUNT" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="370" y="905" width="160" height="25" as="geometry" />
        </mxCell>
        <mxCell id="shippingdiscount-pk" value="shipping_discount_id" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="380" y="940" width="130" height="25" as="geometry" />
        </mxCell>
        <mxCell id="shippingdiscount-attrs" value="discount_amount" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="530" y="940" width="120" height="25" as="geometry" />
        </mxCell>
        <mxCell id="shippingdiscount-arrow1" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d79b00;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="510" y="952" as="sourcePoint" />
            <mxPoint x="530" y="952" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="shippingdiscount-uk1" value="discount_id" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=4;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="380" y="970" width="80" height="25" as="geometry" />
        </mxCell>
        <mxCell id="shippingdiscount-uk-note" value="→ shipping_discount_id (1:1)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=10;fontStyle=2;" parent="1" vertex="1">
          <mxGeometry x="470" y="970" width="170" height="20" as="geometry" />
        </mxCell>

        <!-- ==================== SPECIAL_DISCOUNT ==================== -->
        <mxCell id="specialdiscount-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="680" y="900" width="350" height="100" as="geometry" />
        </mxCell>
        <mxCell id="specialdiscount-title" value="SPECIAL_DISCOUNT" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="690" y="905" width="160" height="25" as="geometry" />
        </mxCell>
        <mxCell id="specialdiscount-pk" value="special_discount_id" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="700" y="940" width="120" height="25" as="geometry" />
        </mxCell>
        <mxCell id="specialdiscount-attrs" value="store_id, product_type_id, discount_rate, max_discount_amount" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="840" y="935" width="180" height="35" as="geometry" />
        </mxCell>
        <mxCell id="specialdiscount-arrow1" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d79b00;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="820" y="952" as="sourcePoint" />
            <mxPoint x="840" y="952" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="specialdiscount-uk1" value="discount_id" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=4;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="700" y="970" width="80" height="25" as="geometry" />
        </mxCell>
        <mxCell id="specialdiscount-uk-note" value="→ special_discount_id (1:1)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=10;fontStyle=2;" parent="1" vertex="1">
          <mxGeometry x="790" y="970" width="160" height="20" as="geometry" />
        </mxCell>

        <!-- ==================== REVIEW ==================== -->
        <mxCell id="review-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="40" y="1020" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="review-title" value="REVIEW" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="50" y="1025" width="100" height="25" as="geometry" />
        </mxCell>
        <mxCell id="review-pk" value="review_id" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="60" y="1060" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="review-attrs" value="product_id, user_id, rating, comment, created_at, updated_at" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="160" y="1060" width="220" height="35" as="geometry" />
        </mxCell>
        <mxCell id="review-arrow1" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d79b00;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="140" y="1075" as="sourcePoint" />
            <mxPoint x="160" y="1075" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- ==================== REVIEW_IMAGE ==================== -->
        <mxCell id="reviewimage-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="410" y="1020" width="300" height="90" as="geometry" />
        </mxCell>
        <mxCell id="reviewimage-title" value="REVIEW_IMAGE" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="420" y="1025" width="130" height="25" as="geometry" />
        </mxCell>
        <mxCell id="reviewimage-pk" value="review_image_id" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="430" y="1060" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="reviewimage-attrs" value="review_id, image_url, public_id, display_order" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="560" y="1060" width="140" height="35" as="geometry" />
        </mxCell>
        <mxCell id="reviewimage-arrow1" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d79b00;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="540" y="1075" as="sourcePoint" />
            <mxPoint x="560" y="1075" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- ==================== AUDIT_LOG ==================== -->
        <mxCell id="auditlog-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="730" y="1020" width="450" height="130" as="geometry" />
        </mxCell>
        <mxCell id="auditlog-title" value="AUDIT_LOG (System Table)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="740" y="1025" width="200" height="25" as="geometry" />
        </mxCell>
        <mxCell id="auditlog-pk" value="audit_id" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="750" y="1060" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="auditlog-attrs" value="event_timestamp, table_name, record_id, action, user_id, request_id, ip_address, user_agent, service_name, old_data, new_data, changes, checksum" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="840" y="1050" width="330" height="50" as="geometry" />
        </mxCell>
        <mxCell id="auditlog-arrow1" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d79b00;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="820" y="1075" as="sourcePoint" />
            <mxPoint x="840" y="1075" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="auditlog-uk1" value="event_id" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=4;" parent="1" vertex="1">
          <mxGeometry x="750" y="1100" width="70" height="25" as="geometry" />
        </mxCell>
        <mxCell id="auditlog-uk-note" value="→ audit_id" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=10;fontStyle=2;" parent="1" vertex="1">
          <mxGeometry x="830" y="1100" width="80" height="20" as="geometry" />
        </mxCell>

        <!-- ==================== EMAIL_VERIFICATION ==================== -->
        <mxCell id="emailverification-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="40" y="1130" width="400" height="90" as="geometry" />
        </mxCell>
        <mxCell id="emailverification-title" value="EMAIL_VERIFICATION (System Table)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="50" y="1135" width="280" height="25" as="geometry" />
        </mxCell>
        <mxCell id="emailverification-pk" value="verification_id" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="60" y="1170" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="emailverification-attrs" value="email, code_hash, purpose, metadata, expires_at, is_used, created_at" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="180" y="1170" width="250" height="35" as="geometry" />
        </mxCell>
        <mxCell id="emailverification-arrow1" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d79b00;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="160" y="1185" as="sourcePoint" />
            <mxPoint x="180" y="1185" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- ==================== LEGEND ==================== -->
        <mxCell id="legend-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="480" y="1130" width="450" height="120" as="geometry" />
        </mxCell>
        <mxCell id="legend-title" value="LEGEND" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="490" y="1135" width="80" height="25" as="geometry" />
        </mxCell>
        <mxCell id="legend-pk" value="Primary Key" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="500" y="1165" width="90" height="25" as="geometry" />
        </mxCell>
        <mxCell id="legend-uk" value="Unique/Candidate Key" style="ellipse;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=4;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="600" y="1165" width="130" height="25" as="geometry" />
        </mxCell>
        <mxCell id="legend-composite" value="Composite Unique" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=4;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="740" y="1165" width="110" height="25" as="geometry" />
        </mxCell>
        <mxCell id="legend-arrow" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d79b00;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="500" y="1215" as="sourcePoint" />
            <mxPoint x="540" y="1215" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="legend-arrow-text" value="Functional Dependency (determinant → dependent)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="550" y="1205" width="280" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend-note" value="All tables are in 3NF (Third Normal Form)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=10;fontStyle=2;" parent="1" vertex="1">
          <mxGeometry x="500" y="1230" width="250" height="20" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
